"use strict";var e=this&&this.__decorate||function(e,t,i,r){var s,u=arguments.length,a=u<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(u<3?s(a):u>3?s(t,i,a):s(t,i))||a);return u>3&&a&&Object.defineProperty(t,i,a),a},t=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=require("@angular/core"),r=require("./Modals"),s=require("@angular/forms"),u=require("../Common/Directives"),a=require("../Common/Constants"),o=require("../Api/Services"),n=function(){function n(e,t){this.formBuilder=e,this.APIService=t,this.IsCabRequest=!0,this.Submitted=!1,this.ValidationMessages=a.ValidationMessages,this.ToggleService=function(e){e!==a.ApplicationConstants.RequestType.CAB||this.IsCabRequest?e===a.ApplicationConstants.RequestType.TRIP&&this.IsCabRequest&&(this.IsCabRequest=!1,this.buildForm()):(this.IsCabRequest=!0,this.buildForm())},this.ReturnValid=function(e){if(""!==e&&null!==this.enquiryForm.controls[e].errors){if(void 0!==this.enquiryForm.controls[e].errors.message)return this.enquiryForm.controls[e].errors.message;if(!0===this.enquiryForm.controls[e].errors.required&&this.Submitted)return this.ValidationMessages.Messages[e+"_Required"]}},this.SubmitEnquiryRequest=function(e){e===a.ApplicationConstants.CustomerAction.SUBMIT?(this.Submitted=!0,this.enquiryForm.valid&&(this.EnquiryRequest=this.enquiryForm.value,this.EnquiryRequest.Customer=new r.Customer(this.EnquiryRequest.FullName,this.EnquiryRequest.PhoneNumber),console.log(this.EnquiryRequest))):e===a.ApplicationConstants.CustomerAction.CLEAR&&this.buildForm()},this.EnquiryRequest=new r.EnquiryRequest(new r.Customer("","",""),"","","","","",new r.Vehicle("","",0,0,"",""))}return n.prototype.ngOnInit=function(){this.buildForm()},n.prototype.buildForm=function(){this.Submitted=!1,this.enquiryForm=this.formBuilder.group({FullName:[this.EnquiryRequest.Customer.FullName,[s.Validators.required,u.validateField(new a.CustomValidationRules("FullName"),this.enquiryForm)]],PhoneNumber:[this.EnquiryRequest.Customer.PhoneNumber,[s.Validators.required,u.validateField(new a.CustomValidationRules("PhoneNumber"),this.enquiryForm)]],TravelDate:[this.EnquiryRequest.TravelDate,[s.Validators.required,u.validateField(new a.CustomValidationRules("TravelDate"),this.enquiryForm)]],Cab_FromPlace:[this.EnquiryRequest.Cab_FromPlace,[this.IsCabRequest?s.Validators.required:s.Validators.nullValidator,u.validateField(new a.CustomValidationRules("Cab_FromPlace"),this.enquiryForm)]],Cab_ToPlace:[this.EnquiryRequest.Cab_ToPlace,[this.IsCabRequest?s.Validators.required:s.Validators.nullValidator,u.validateField(new a.CustomValidationRules("Cab_ToPlace"),this.enquiryForm)]],Trip_NumberOfDays:[this.EnquiryRequest.Trip_NumberOfDays,[this.IsCabRequest?s.Validators.nullValidator:s.Validators.required,u.validateField(new a.CustomValidationRules("Trip_NumberOfDays"),this.enquiryForm)]],Trip_Places:[this.EnquiryRequest.Trip_Places,[this.IsCabRequest?s.Validators.nullValidator:s.Validators.required,u.validateField(new a.CustomValidationRules("Trip_Places"),this.enquiryForm)]],Vehicle:[this.EnquiryRequest.Vehicle.ID,[s.Validators.required,u.validateField(new a.CustomValidationRules("Vehicle"),this.enquiryForm)]]})},n=e([i.Component({templateUrl:"Views/Home.html"}),t("design:paramtypes",[s.FormBuilder,o.APIService])],n)}();exports.HomeComponent=n;